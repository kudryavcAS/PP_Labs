# Library Management System (JavaFX + XML)

Проект представляет собой десктопное приложение на языке Java для управления библиотечным фондом. Данные хранятся в XML-файле, валидируются через XSD-схему и отображаются через графический интерфейс JavaFX.

## Задание

Разработать приложение для работы с XML-документом `<library>`.

### Требования к данным:
1.  В каждый тег `<book>` добавить два атрибута:
    *   `total` — количество экземпляров книги в библиотеке.
    *   `available` — количество экземпляров в наличии (не выданных).
2.  Составить **XSD схему** (или DTD) для проверки правильности документа.
3.  Заполнить документ сведениями (не менее 15 книг), при этом у некоторых авторов должно быть по 2-3 книги.

### Требования к программе:
1.  **Графический интерфейс** (GUI).
2.  **Валидация:** Проверка XML на соответствие схеме (XSD) при загрузке.
3.  **Пользовательское меню:**
    *   Вывод всех сведений о книгах в виде таблицы.
    *   Добавление новой книги.
    *   Поиск книги по: автору, году издания, категории.
    *   Переоценка отдельных книг (изменение цены).
    *   Эмулирование выдачи книги читателю.

---

## Архитектура решения (MVC)

Приложение построено на базе архитектурного паттерна **Model-View-Controller (MVC)**, что обеспечивает разделение данных, интерфейса и логики управления.

### 1. Model (Модель)
Отвечает за данные и бизнес-логику.
*   **`Book.java`**: Класс-сущность. Использует JavaFX Properties (`StringProperty`, `IntegerProperty`) для автоматического связывания данных с таблицей.
*   **`LibraryService.java`**: Слой доступа к данным (DAO).
    *   Использует **DOM Parser** для чтения и записи XML.
    *   Выполняет строгую валидацию файла через **XSD Validator** перед загрузкой.

### 2. View (Представление)
Отвечает за внешний вид.
*   **`library_ui.fxml`**: Файл разметки интерфейса. Описывает расположение кнопок, полей поиска и таблицы `TableView`. Создан с помощью FXML/SceneBuilder.

### 3. Controller (Контроллер)
Связывает Модель и Представление.
*   **`MainController.java`**: Обрабатывает действия пользователя (клики по кнопкам, ввод текста).
    *   Использует `ObservableList` для хранения списка книг. При изменении этого списка таблица обновляется автоматически.
    *   Реализует фильтрацию данных (поиск) через `FilteredList`.

---

## Технологический стек

*   **Язык:** Java 21+
*   **UI Фреймворк:** JavaFX
*   **Сборка:** Maven
*   **Работа с XML:** Java DOM API (`javax.xml.parsers`, `org.w3c.dom`)
*   **Тестирование:** JUnit 5

---

## Как запустить

### Предварительные требования
*   JDK 21 или выше.
*   Maven.

### Запуск через IntelliJ IDEA
1.  Откройте проект.
2.  Дождитесь загрузки зависимостей Maven.
3.  Запустите класс `lab.LibraryMain`.

### Запуск через консоль
```bash
# Сборка и запуск
mvn clean javafx:run